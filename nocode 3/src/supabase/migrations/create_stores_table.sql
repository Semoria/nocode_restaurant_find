-- 创建门店表，用于高德 POI 不可用时的 fallback
CREATE TABLE IF NOT EXISTS stores (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  store_name TEXT NOT NULL,        -- 如「喜茶(三里屯太古里店)」
  brand_name TEXT NOT NULL,        -- 如「喜茶」，与 drinks 表的 brand_name 一致
  lng NUMERIC(10,6) NOT NULL,      -- 经度
  lat NUMERIC(10,6) NOT NULL,      -- 纬度
  address TEXT,                    -- 地址
  city TEXT DEFAULT '上海'
);

-- 插入模拟门店数据（约50-70家门店）
INSERT INTO stores (store_name, brand_name, lng, lat, address, city) VALUES
-- 喜茶门店
('喜茶(南京东路店)', '喜茶', 121.4737, 31.2304, '黄浦区南京东路353号', '上海'),
('喜茶(淮海中路店)', '喜茶', 121.4642, 31.2234, '黄浦区淮海中路612号', '上海'),
('喜茶(徐家汇店)', '喜茶', 121.4348, 31.1956, '徐汇区肇嘉浜路1111号', '上海'),
('喜茶(静安寺店)', '喜茶', 121.4456, 31.2222, '静安区南京西路1688号', '上海'),
('喜茶(陆家嘴店)', '喜茶', 121.5056, 31.2397, '浦东新区世纪大道8号', '上海'),

-- 奈雪的茶门店
('奈雪的茶(新天地店)', '奈雪的茶', 121.4756, 31.2167, '黄浦区太仓路181弄', '上海'),
('奈雪的茶(五角场店)', '奈雪的茶', 121.5156, 31.3012, '杨浦区淞沪路8号', '上海'),
('奈雪的茶(中山公园店)', '奈雪的茶', 121.4167, 31.2189, '长宁区长宁路999号', '上海'),
('奈雪的茶(虹桥天地店)', '奈雪的茶', 121.3178, 31.1956, '闵行区申滨南路1058号', '上海'),
('奈雪的茶(张江店)', '奈雪的茶', 121.6023, 31.2067, '浦东新区张江路88号', '上海'),

-- 霸王茶姬门店
('霸王茶姬(人民广场店)', '霸王茶姬', 121.4737, 31.2352, '黄浦区西藏中路268号', '上海'),
('霸王茶姬(七宝万科店)', '霸王茶姬', 121.3512, 31.1543, '闵行区七宝镇漕宝路3366号', '上海'),
('霸王茶姬(五角场万达店)', '霸王茶姬', 121.5156, 31.3012, '杨浦区淞沪路155号', '上海'),
('霸王茶姬(大宁国际店)', '霸王茶姬', 121.4512, 31.2789, '静安区共和新路1978号', '上海'),
('霸王茶姬(金桥国际店)', '霸王茶姬', 121.5912, 31.2567, '浦东新区张杨路3611号', '上海'),

-- 瑞幸咖啡门店
('瑞幸咖啡(南京西路店)', '瑞幸咖啡', 121.4612, 31.2334, '黄浦区南京西路1045号', '上海'),
('瑞幸咖啡(徐家汇港汇店)', '瑞幸咖啡', 121.4348, 31.1956, '徐汇区虹桥路1号', '上海'),
('瑞幸咖啡(陆家嘴正大店)', '瑞幸咖啡', 121.5056, 31.2397, '浦东新区陆家嘴西路168号', '上海'),
('瑞幸咖啡(五角场创智店)', '瑞幸咖啡', 121.5156, 31.3012, '杨浦区淞沪路234号', '上海'),
('瑞幸咖啡(虹桥机场T2店)', '瑞幸咖啡', 121.3245, 31.1934, '闵行区虹桥机场T2航站楼', '上海'),
('瑞幸咖啡(张江高科店)', '瑞幸咖啡', 121.6023, 31.2067, '浦东新区张江高科技园区', '上海'),

-- 星巴克门店
('星巴克(淮海路店)', '星巴克', 121.4642, 31.2234, '黄浦区淮海中路624号', '上海'),
('星巴克(静安嘉里店)', '星巴克', 121.4456, 31.2222, '静安区南京西路1515号', '上海'),
('星巴克(陆家嘴国金店)', '星巴克', 121.5056, 31.2397, '浦东新区世纪大道100号', '上海'),
('星巴克(徐家汇美罗城店)', '星巴克', 121.4348, 31.1956, '徐汇区肇嘉浜路1111号美罗城', '上海'),
('星巴克(虹桥天地店)', '星巴克', 121.3178, 31.1956, '闵行区申滨南路1058号虹桥天地', '上海'),
('星巴克(五角场万达店)', '星巴克', 121.5156, 31.3012, '杨浦区淞沪路125号万达商业广场', '上海'),

-- 茶百道门店
('茶百道(南京东路步行街店)', '茶百道', 121.4737, 31.2304, '黄浦区南京东路299号', '上海'),
('茶百道(七宝万科店)', '茶百道', 121.3512, 31.1543, '闵行区七宝镇漕宝路3366号万科广场', '上海'),
('茶百道(五角场大学路店)', '茶百道', 121.5156, 31.3012, '杨浦区淞沪路299号', '上海'),
('茶百道(中山公园龙之梦店)', '茶百道', 121.4167, 31.2189, '长宁区长宁路1027号龙之梦购物中心', '上海'),
('茶百道(大宁音乐广场店)', '茶百道', 121.4512, 31.2789, '静安区万荣路268号大宁音乐广场', '上海'),

-- 古茗门店
('古茗(人民广场店)', '古茗', 121.4737, 31.2352, '黄浦区西藏中路380号', '上海'),
('古茗(徐家汇店)', '古茗', 121.4348, 31.1956, '徐汇区肇嘉浜路1000号', '上海'),
('古茗(陆家嘴店)', '古茗', 121.5056, 31.2397, '浦东新区世纪大道168号', '上海'),
('古茗(五角场店)', '古茗', 121.5156, 31.3012, '杨浦区淞沪路88号', '上海'),
('古茗(七宝店)', '古茗', 121.3512, 31.1543, '闵行区七宝镇青年路288号', '上海'),

-- 沪上阿姨门店
('沪上阿姨(淮海中路店)', '沪上阿姨', 121.4642, 31.2234, '黄浦区淮海中路567号', '上海'),
('沪上阿姨(静安寺店)', '沪上阿姨', 121.4456, 31.2222, '静安区华山路1954号', '上海'),
('沪上阿姨(徐家汇店)', '沪上阿姨', 121.4348, 31.1956, '徐汇区徐家汇路618号', '上海'),
('沪上阿姨(陆家嘴店)', '沪上阿姨', 121.5056, 31.2397, '浦东新区陆家嘴环路1000号', '上海'),
('沪上阿姨(五角场店)', '沪上阿姨', 121.5156, 31.3012, '杨浦区淞沪路100号', '上海'),
('沪上阿姨(虹桥店)', '沪上阿姨', 121.3178, 31.1956, '闵行区虹桥路2550号', '上海'),

-- 一点点门店
('一点点(南京西路店)', '一点点', 121.4612, 31.2334, '黄浦区南京西路1085号', '上海'),
('一点点(徐家汇店)', '一点点', 121.4348, 31.1956, '徐汇区肇嘉浜路1065号', '上海'),
('一点点(陆家嘴店)', '一点点', 121.5056, 31.2397, '浦东新区陆家嘴西路188号', '上海'),
('一点点(五角场店)', '一点点', 121.5156, 31.3012, '杨浦区淞沪路111号', '上海'),
('一点点(中山公园店)', '一点点', 121.4167, 31.2189, '长宁区长宁路1015号', '上海'),
('一点点(七宝店)', '一点点', 121.3512, 31.1543, '闵行区七宝镇漕宝路3366号', '上海'),

-- Manner门店
('Manner(静安寺店)', 'Manner', 121.4456, 31.2222, '静安区南京西路1728号', '上海'),
('Manner(陆家嘴店)', 'Manner', 121.5056, 31.2397, '浦东新区世纪大道88号', '上海'),
('Manner(徐家汇店)', 'Manner', 121.4348, 31.1956, '徐汇区肇嘉浜路1111号', '上海'),
('Manner(五角场店)', 'Manner', 121.5156, 31.3012, '杨浦区淞沪路123号', '上海'),
('Manner(中山公园店)', 'Manner', 121.4167, 31.2189, '长宁区长宁路999号', '上海'),
('Manner(虹桥天地店)', 'Manner', 121.3178, 31.1956, '闵行区申滨南路1058号', '上海'),

-- 其他品牌门店
('茶颜悦色(南京东路店)', '茶颜悦色', 121.4737, 31.2304, '黄浦区南京东路353号', '上海'),
('茶颜悦色(淮海中路店)', '茶颜悦色', 121.4642, 31.2234, '黄浦区淮海中路612号', '上海'),
('茶颜悦色(徐家汇店)', '茶颜悦色', 121.4348, 31.1956, '徐汇区肇嘉浜路1111号', '上海'),
('茶颜悦色(静安寺店)', '茶颜悦色', 121.4456, 31.2222, '静安区南京西路1688号', '上海'),
('茶颜悦色(陆家嘴店)', '茶颜悦色', 121.5056, 31.2397, '浦东新区世纪大道8号', '上海'),

('乐乐茶(新天地店)', '乐乐茶', 121.4756, 31.2167, '黄浦区太仓路181弄', '上海'),
('乐乐茶(五角场店)', '乐乐茶', 121.5156, 31.3012, '杨浦区淞沪路8号', '上海'),
('乐乐茶(中山公园店)', '乐乐茶', 121.4167, 31.2189, '长宁区长宁路999号', '上海'),
('乐乐茶(虹桥天地店)', '乐乐茶', 121.3178, 31.1956, '闵行区申滨南路1058号', '上海'),
('乐乐茶(张江店)', '乐乐茶', 121.6023, 31.2067, '浦东新区张江路88号', '上海'),

('伏见桃山(人民广场店)', '伏见桃山', 121.4737, 31.2352, '黄浦区西藏中路268号', '上海'),
('伏见桃山(七宝万科店)', '伏见桃山', 121.3512, 31.1543, '闵行区七宝镇漕宝路3366号', '上海'),
('伏见桃山(五角场万达店)', '伏见桃山', 121.5156, 31.3012, '杨浦区淞沪路155号', '上海'),
('伏见桃山(大宁国际店)', '伏见桃山', 121.4512, 31.2789, '静安区共和新路1978号', '上海'),
('伏见桃山(金桥国际店)', '伏见桃山', 121.5912, 31.2567, '浦东新区张杨路3611号', '上海'),

('SEVENBUS(南京西路店)', 'SEVENBUS', 121.4612, 31.2334, '黄浦区南京西路1045号', '上海'),
('SEVENBUS(徐家汇港汇店)', 'SEVENBUS', 121.4348, 31.1956, '徐汇区虹桥路1号', '上海'),
('SEVENBUS(陆家嘴正大店)', 'SEVENBUS', 121.5056, 31.2397, '浦东新区陆家嘴西路168号', '上海'),
('SEVENBUS(五角场创智店)', 'SEVENBUS', 121.5156, 31.3012, '杨浦区淞沪路234号', '上海'),
('SEVENBUS(虹桥机场T2店)', 'SEVENBUS', 121.3245, 31.1934, '闵行区虹桥机场T2航站楼', '上海'),
('SEVENBUS(张江高科店)', 'SEVENBUS', 121.6023, 31.2067, '浦东新区张江高科技园区', '上海'),

('KOI(淮海路店)', 'KOI', 121.4642, 31.2234, '黄浦区淮海中路624号', '上海'),
('KOI(静安嘉里店)', 'KOI', 121.4456, 31.2222, '静安区南京西路1515号', '上海'),
('KOI(陆家嘴国金店)', 'KOI', 121.5056, 31.2397, '浦东新区世纪大道100号', '上海'),
('KOI(徐家汇美罗城店)', 'KOI', 121.4348, 31.1956, '徐汇区肇嘉浜路1111号美罗城', '上海'),
('KOI(虹桥天地店)', 'KOI', 121.3178, 31.1956, '闵行区申滨南路1058号虹桥天地', '上海'),
('KOI(五角场万达店)', 'KOI', 121.5156, 31.3012, '杨浦区淞沪路125号万达商业广场', '上海'),

('茶太良品(南京东路步行街店)', '茶太良品', 121.4737, 31.2304, '黄浦区南京东路299号', '上海'),
('茶太良品(七宝万科店)', '茶太良品', 121.3512, 31.1543, '闵行区七宝镇漕宝路3366号万科广场', '上海'),
('茶太良品(五角场大学路店)', '茶太良品', 121.5156, 31.3012, '杨浦区淞沪路299号', '上海'),
('茶太良品(中山公园龙之梦店)', '茶太良品', 121.4167, 31.2189, '长宁区长宁路1027号龙之梦购物中心', '上海'),
('茶太良品(大宁音乐广场店)', '茶太良品', 121.4512, 31.2789, '静安区万荣路268号大宁音乐广场', '上海'),

('蜜雪冰城(人民广场店)', '蜜雪冰城', 121.4737, 31.2352, '黄浦区西藏中路380号', '上海'),
('蜜雪冰城(徐家汇店)', '蜜雪冰城', 121.4348, 31.1956, '徐汇区肇嘉浜路1000号', '上海'),
('蜜雪冰城(陆家嘴店)', '蜜雪冰城', 121.5056, 31.2397, '浦东新区世纪大道168号', '上海'),
('蜜雪冰城(五角场店)', '蜜雪冰城', 121.5156, 31.3012, '杨浦区淞沪路88号', '上海'),
('蜜雪冰城(七宝店)', '蜜雪冰城', 121.3512, 31.1543, '闵行区七宝镇青年路288号', '上海'),

('CoCo(淮海中路店)', 'CoCo', 121.4642, 31.2234, '黄浦区淮海中路567号', '上海'),
('CoCo(静安寺店)', 'CoCo', 121.4456, 31.2222, '静安区华山路1954号', '上海'),
('CoCo(徐家汇店)', 'CoCo', 121.4348, 31.1956, '徐汇区徐家汇路618号', '上海'),
('CoCo(陆家嘴店)', 'CoCo', 121.5056, 31.2397, '浦东新区陆家嘴环路1000号', '上海'),
('CoCo(五角场店)', 'CoCo', 121.5156, 31.3012, '杨浦区淞沪路100号', '上海'),
('CoCo(虹桥店)', 'CoCo', 121.3178, 31.1956, '闵行区虹桥路2550号', '上海'),

('快乐柠檬(南京西路店)', '快乐柠檬', 121.4612, 31.2334, '黄浦区南京西路1085号', '上海'),
('快乐柠檬(徐家汇店)', '快乐柠檬', 121.4348, 31.1956, '徐汇区肇嘉浜路1065号', '上海'),
('快乐柠檬(陆家嘴店)', '快乐柠檬', 121.5056, 31.2397, '浦东新区陆家嘴西路188号', '上海'),
('快乐柠檬(五角场店)', '快乐柠檬', 121.5156, 31.3012, '杨浦区淞沪路111号', '上海'),
('快乐柠檬(中山公园店)', '快乐柠檬', 121.4167, 31.2189, '长宁区长宁路1015号', '上海'),
('快乐柠檬(七宝店)', '快乐柠檬', 121.3512, 31.1543, '闵行区七宝镇漕宝路3366号', '上海'),

('书亦烧仙草(静安寺店)', '书亦烧仙草', 121.4456, 31.2222, '静安区南京西路1728号', '上海'),
('书亦烧仙草(陆家嘴店)', '书亦烧仙草', 121.5056, 31.2397, '浦东新区世纪大道88号', '上海'),
('书亦烧仙草(徐家汇店)', '书亦烧仙草', 121.4348, 31.1956, '徐汇区肇嘉浜路1111号', '上海'),
('书亦烧仙草(五角场店)', '书亦烧仙草', 121.5156, 31.3012, '杨浦区淞沪路123号', '上海'),
('书亦烧仙草(中山公园店)', '书亦烧仙草', 121.4167, 31.2189, '长宁区长宁路999号', '上海'),
('书亦烧仙草(虹桥天地店)', '书亦烧仙草', 121.3178, 31.1956, '闵行区申滨南路1058号', '上海'),

('悸动烧仙草(南京东路店)', '悸动烧仙草', 121.4737, 31.2304, '黄浦区南京东路353号', '上海'),
('悸动烧仙草(淮海中路店)', '悸动烧仙草', 121.4642, 31.2234, '黄浦区淮海中路612号', '上海'),
('悸动烧仙草(徐家汇店)', '悸动烧仙草', 121.4348, 31.1956, '徐汇区肇嘉浜路1111号', '上海'),
('悸动烧仙草(静安寺店)', '悸动烧仙草', 121.4456, 31.2222, '静安区南京西路1688号', '上海'),
('悸动烧仙草(陆家嘴店)', '悸动烧仙草', 121.5056, 31.2397, '浦东新区世纪大道8号', '上海'),

('沪上阿姨(南京东路店)', '沪上阿姨', 121.4737, 31.2304, '黄浦区南京东路353号', '上海'),
('沪上阿姨(淮海中路店)', '沪上阿姨', 121.4642, 31.2234, '黄浦区淮海中路612号', '上海'),
('沪上阿姨(徐家汇店)', '沪上阿姨', 121.4348, 31.1956, '徐汇区肇嘉浜路1111号', '上海'),
('沪上阿姨(静安寺店)', '沪上阿姨', 121.4456, 31.2222, '静安区南京西路1688号', '上海'),
('沪上阿姨(陆家嘴店)', '沪上阿姨', 121.5056, 31.2397, '浦东新区世纪大道8号', '上海'),

('茶百道(南京东路店)', '茶百道', 121.4737, 31.2304, '黄浦区南京东路353号', '上海'),
('茶百道(淮海中路店)', '茶百道', 121.4642, 31.2234, '黄浦区淮海中路612号', '上海'),
('茶百道(徐家汇店)', '茶百道', 121.4348, 31.1956, '徐汇区肇嘉浜路1111号', '上海'),
('茶百道(静安寺店)', '茶百道', 121.4456, 31.2222, '静安区南京西路1688号', '上海'),
('茶百道(陆家嘴店)', '茶百道', 121.5056, 31.2397, '浦东新区世纪大道8号', '上海'),

('古茗(南京东路店)', '古茗', 121.4737, 31.2304, '黄浦区南京东路353号', '上海'),
('古茗(淮海中路店)', '古茗', 121.4642, 31.2234, '黄浦区淮海中路612号', '上海'),
('古茗(徐家汇店)', '古茗', 121.4348, 31.1956, '徐汇区肇嘉浜路1111号', '上海'),
('古茗(静安寺店)', '古茗', 121.4456, 31.2222, '静安区南京西路1688号', '上海'),
('古茗(陆家嘴店)', '古茗', 121.5056, 31.2397, '浦东新区世纪大道8号', '上海'),

('一点点(南京东路店)', '一点点', 121.4737, 31.2304, '黄浦区南京东路353号', '上海'),
('一点点(淮海中路店)', '一点点', 121.4642, 31.2234, '黄浦区淮海中路612号', '上海'),
('一点点(徐家汇店)', '一点点', 121.4348, 31.1956, '徐汇区肇嘉浜路1111号', '上海'),
('一点点(静安寺店)', '一点点', 121.4456, 31.2222, '静安区南京西路1688号', '上海'),
('一点点(陆家嘴店)', '一点点', 121.5056, 31.2397, '浦东新区世纪大道8号', '上海'),

('Manner(南京东路店)', 'Manner', 121.4737, 31.2304, '黄浦区南京东路353号', '上海'),
('Manner(淮海中路店)', 'Manner', 121.4642, 31.2234, '黄浦区淮海中路612号', '上海'),
('Manner(徐家汇店)', 'Manner', 121.4348, 31.1956, '徐汇区肇嘉浜路1111号', '上海'),
('Manner(静安寺店)', 'Manner', 121.4456, 31.2222, '静安区南京西路1688号', '上海'),
('Manner(陆家嘴店)', 'Manner', 121.5056, 31.2397, '浦东新区世纪大道8号', '上海'),

('星巴克(南京东路店)', '星巴克', 121.4737, 31.2304, '黄浦区南京东路353号', '上海'),
('星巴克(淮海中路店)', '星巴克', 121.4642, 31.2234, '黄浦区淮海中路612号', '上海'),
('星巴克(徐家汇店)', '星巴克', 121.4348, 31.1956, '徐汇区肇嘉浜路1111号', '上海'),
('星巴克(静安寺店)', '星巴克', 121.4456, 31.2222, '静安区南京西路1688号', '上海'),
('星巴克(陆家嘴店)', '星巴克', 121.5056, 31.2397, '浦东新区世纪大道8号', '上海'),

('瑞幸咖啡(南京东路店)', '瑞幸咖啡', 121.4737, 31.2304, '黄浦区南京东路353号', '上海'),
('瑞幸咖啡(淮海中路店)', '瑞幸咖啡', 121.4642, 31.2234, '黄浦区淮海中路612号', '上海'),
('瑞幸咖啡(徐家汇店)', '瑞幸咖啡', 121.4348, 31.1956, '徐汇区肇嘉浜路1111号', '上海'),
('瑞幸咖啡(静安寺店)', '瑞幸咖啡', 121.4456, 31.2222, '静安区南京西路1688号', '上海'),
('瑞幸咖啡(陆家嘴店)', '瑞幸咖啡', 121.5056, 31.2397, '浦东新区世纪大道8号', '上海'),

('霸王茶姬(南京东路店)', '霸王茶姬', 121.4737, 31.2304, '黄浦区南京东路353号', '上海'),
('霸王茶姬(淮海中路店)', '霸王茶姬', 121.4642, 31.2234, '黄浦区淮海中路612号', '上海'),
('霸王茶姬(徐家汇店)', '霸王茶姬', 121.4348, 31.1956, '徐汇区肇嘉浜路1111号', '上海'),
('霸王茶姬(静安寺店)', '霸王茶姬', 121.4456, 31.2222, '静安区南京西路1688号', '上海'),
('霸王茶姬(陆家嘴店)', '霸王茶姬', 121.5056, 31.2397, '浦东新区世纪大道8号', '上海'),

('奈雪的茶(南京东路店)', '奈雪的茶', 121.4737, 31.2304, '黄浦区南京东路353号', '上海'),
('奈雪的茶(淮海中路店)', '奈雪的茶', 121.4642, 31.2234, '黄浦区淮海中路612号', '上海'),
('奈雪的茶(徐家汇店)', '奈雪的茶', 121.4348, 31.1956, '徐汇区肇嘉浜路1111号', '上海'),
('奈雪的茶(静安寺店)', '奈雪的茶', 121.4456, 31.2222, '静安区南京西路1688号', '上海'),
('奈雪的茶(陆家嘴店)', '奈雪的茶', 121.5056, 31.2397, '浦东新区世纪大道8号', '上海'),

('喜茶(南京东路店)', '喜茶', 121.4737, 31.2304, '黄浦区南京东路353号', '上海'),
('喜茶(淮海中路店)', '喜茶', 121.4642, 31.2234, '黄浦区淮海中路612号', '上海'),
('喜茶(徐家汇店)', '喜茶', 121.4348, 31.1956, '徐汇区肇嘉浜路1111号', '上海'),
('喜茶(静安寺店)', '喜茶', 121.4456, 31.2222, '静安区南京西路1688号', '上海'),
('喜茶(陆家嘴店)', '喜茶', 121.5056, 31.2397, '浦东新区世纪大道8号', '上海');

-- 启用Row Level Security并设置策略
ALTER TABLE stores ENABLE ROW LEVEL SECURITY;
CREATE POLICY "stores_public_read" ON stores FOR SELECT USING (true);
